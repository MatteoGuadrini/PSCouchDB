

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Classes &mdash; PSCouchDB  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Real uses" href="uses.html" />
    <link rel="prev" title="Preferences" href="cmdlets.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PSCouchDB
          

          
            
            <img src="_static/pscouchdb-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html#nodes">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html#configuration">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="permission.html">Permission</a></li>
<li class="toctree-l1"><a class="reference internal" href="server.html">Server operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="server.html#replication">Replication</a></li>
<li class="toctree-l1"><a class="reference internal" href="auth.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="documents.html">Documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="documents.html#query">Query</a></li>
<li class="toctree-l1"><a class="reference internal" href="ddoc.html">Design documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmdlets.html">Preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmdlets.html#cmdlets-and-aliases">Cmdlets and aliases</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Classes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#create-an-pscouchdb-object">Create an PSCouchDB object</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pscouchdbrequest-class">PSCouchDBRequest class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#properties">Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#methods">Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-a-request">Build a request</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-server">Set server</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-port">Set port</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-proxy">Set proxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-ssl">Set SSL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-a-method">Set a method</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-authorization">Add authorization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-database">Set database</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-document">Set document</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-attachment">Add attachment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-parameter">Set parameter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-data">Set data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-uri">Get Uri</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-request-header">Get request header</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-status-code">Get status code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-request">Get request</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-request-in-background">Get request in background</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pscouchdbquery-class">PSCouchDBQuery class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-a-query">Build a query</a></li>
<li class="toctree-l3"><a class="reference internal" href="#work-with-selector">Work with selector</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#add-selector">Add selector</a></li>
<li class="toctree-l4"><a class="reference internal" href="#remove-selector">Remove selector</a></li>
<li class="toctree-l4"><a class="reference internal" href="#replace-selector">Replace selector</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#limit-and-skip">Limit and Skip</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sort">Sort</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fields">Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#indexies">Indexies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#readquorum">ReadQuorum</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bookmark">Bookmark</a></li>
<li class="toctree-l3"><a class="reference internal" href="#update-stable-and-stale">Update, Stable and Stale</a></li>
<li class="toctree-l3"><a class="reference internal" href="#executionstat">ExecutionStat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#selector-operators">Selector Operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#lt-lte-eq-ne-gte-gt">$lt,$lte,$eq,$ne,$gte,$gt</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exists-type-in-nin-size-mod">$exists,$type,$in,$nin,$size,$mod</a></li>
<li class="toctree-l4"><a class="reference internal" href="#regex">$regex</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#logical-operators">Logical operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#and-or-not-nor">$and,$or,$not,$nor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#all-elemmatch-allmatch">$all,$elemMatch,$allMatch</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#native-query-format-mango">Native query format (Mango)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pscouchdbdocument-class">PSCouchDBDocument class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-a-document">Build a document</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#add-element-to-document">Add element to document</a></li>
<li class="toctree-l4"><a class="reference internal" href="#modify-element-to-document">Modify element to document</a></li>
<li class="toctree-l4"><a class="reference internal" href="#remove-element-to-document">Remove element to document</a></li>
<li class="toctree-l4"><a class="reference internal" href="#view-document">View document</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-json-document">Get json document</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-one-attachment">Add one attachment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#replace-one-attachment">Replace one attachment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#remove-one-attachment">Remove one attachment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#remove-all-attachments">Remove all attachments</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pscouchdbattachment-class">PSCouchDBAttachment class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-an-attachment">Build an attachment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-content-of-an-attachment">Get content of an attachment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#attach-a-file-to-document">Attach a file to document</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pscouchdbbulkdocument-class">PSCouchDBBulkDocument class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-bulk-document">Create bulk document</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-document">Add document</a></li>
<li class="toctree-l3"><a class="reference internal" href="#remove-document">Remove document</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pscouchdbsecurity-class">PSCouchDBSecurity class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id9">Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-security-document">Create security document</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-admins">Get admins</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-members">Get members</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-admins">Add admins</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-members">Add members</a></li>
<li class="toctree-l3"><a class="reference internal" href="#remove-admin">Remove admin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#remove-member">Remove member</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-json">Get json</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pscouchdbreplication-class">PSCouchDBReplication class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id11">Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-replication-document">Create replication document</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-revision">Set revision</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-authentication">Set authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">Set SSL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id14">Set server</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-cancel-operation">Set cancel operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-continuous-replica">Set continuous replica</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-flag-for-replica">Other flag for replica</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-replication-document">Get replication document</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pscouchdbview-class">PSCouchDBView class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id15">Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id16">Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-a-view">Build a view</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-view">Get view</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-function">Add function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#remove-function">Remove function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-a-map-function">Build a map function</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pscouchdbdesigndoc-class">PSCouchDBDesignDoc class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id17">Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-a-design-document">Build a design document</a></li>
<li class="toctree-l3"><a class="reference internal" href="#work-with-views">Work with views</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#add-map-function">Add map function</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-reduce-function">Add reduce function</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add-view-object">Add view object</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#work-with-validation">Work with validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#native-design-document">Native design document</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-design-document">Create design document</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="uses.html">Real uses</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PSCouchDB</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Classes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/classes.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="classes">
<h1>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h1>
<p>PSCouchDB module has powershell classes that can be used to construct certain objects.</p>
<div class="section" id="create-an-pscouchdb-object">
<h2>Create an PSCouchDB object<a class="headerlink" href="#create-an-pscouchdb-object" title="Permalink to this headline">¶</a></h2>
<p>To create every object defined in PSCouchDB module, use this.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$req</span> <span class="p">=</span> <span class="nb">New-CouchDBObject</span> <span class="n">-TypeName</span> <span class="n">PSCouchDBRequest</span>
<span class="nv">$req</span><span class="p">.</span><span class="n">GetType</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="pscouchdbrequest-class">
<h2>PSCouchDBRequest class<a class="headerlink" href="#pscouchdbrequest-class" title="Permalink to this headline">¶</a></h2>
<p>This class is used to construct a http request object.</p>
<div class="section" id="properties">
<h3>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">attachment</span>       <span class="n">Property</span>   <span class="n">PSCouchDBAttachment</span> <span class="n">attachment</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">authorization</span>    <span class="n">Property</span>   <span class="n">pscredential</span> <span class="n">authorization</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">data</span>             <span class="n">Property</span>   <span class="n">string</span> <span class="n">data</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">database</span>         <span class="n">Property</span>   <span class="n">string</span> <span class="n">database</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">document</span>         <span class="n">Property</span>   <span class="n">string</span> <span class="n">document</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">method</span>           <span class="n">Property</span>   <span class="n">string</span> <span class="n">method</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="k">parameter</span>        <span class="n">Property</span>   <span class="n">string</span> <span class="k">parameter</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">port</span>             <span class="n">Property</span>   <span class="n">int</span> <span class="n">port</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">protocol</span>         <span class="n">Property</span>   <span class="n">string</span> <span class="n">protocol</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">server</span>           <span class="n">Property</span>   <span class="n">string</span> <span class="n">server</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">uri</span>              <span class="n">Property</span>   <span class="n">System</span><span class="p">.</span><span class="n">UriBuilder</span> <span class="n">uri</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
</pre></div>
</div>
</div>
<div class="section" id="methods">
<h3>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">AddAttachment</span>    <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddAttachment</span><span class="p">(</span><span class="n">string</span> <span class="n">file</span><span class="p">)</span>
<span class="n">AddAuthorization</span> <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddAuthorization</span><span class="p">(</span><span class="n">pscredential</span> <span class="n">credential</span><span class="p">),</span> <span class="n">void</span> <span class="n">AddAuthorization</span><span class="p">(</span><span class="n">string</span> <span class="n">auth</span><span class="p">)</span>
<span class="n">ClearCache</span>       <span class="n">Method</span>     <span class="n">void</span> <span class="n">ClearCache</span><span class="p">()</span>
<span class="n">DisableCache</span>     <span class="n">Method</span>     <span class="n">void</span> <span class="n">DisableCache</span><span class="p">()</span>
<span class="n">EnableCache</span>      <span class="n">Method</span>     <span class="n">void</span> <span class="n">EnableCache</span><span class="p">()</span>
<span class="n">Equals</span>           <span class="n">Method</span>     <span class="n">bool</span> <span class="n">Equals</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">obj</span><span class="p">)</span>
<span class="n">GetData</span>          <span class="n">Method</span>     <span class="n">string</span> <span class="n">GetData</span><span class="p">()</span>
<span class="n">GetHashCode</span>      <span class="n">Method</span>     <span class="n">int</span> <span class="n">GetHashCode</span><span class="p">()</span>
<span class="n">GetHeader</span>        <span class="n">Method</span>     <span class="n">string</span> <span class="n">GetHeader</span><span class="p">()</span>
<span class="n">GetStatus</span>        <span class="n">Method</span>     <span class="n">int</span> <span class="n">GetStatus</span><span class="p">()</span>
<span class="n">GetType</span>          <span class="n">Method</span>     <span class="nb">type </span><span class="n">GetType</span><span class="p">()</span>
<span class="n">GetUri</span>           <span class="n">Method</span>     <span class="n">uri</span> <span class="n">GetUri</span><span class="p">()</span>
<span class="n">RemoveProxy</span>      <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveProxy</span><span class="p">()</span>
<span class="n">Request</span>          <span class="n">Method</span>     <span class="n">psobject</span> <span class="n">Request</span><span class="p">()</span>
<span class="n">RequestAsJob</span>     <span class="n">Method</span>     <span class="n">void</span> <span class="n">RequestAsJob</span><span class="p">(</span><span class="n">string</span> <span class="n">name</span><span class="p">)</span>
<span class="n">SetData</span>          <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetData</span><span class="p">(</span><span class="n">string</span> <span class="n">json</span><span class="p">)</span>
<span class="n">SetDatabase</span>      <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetDatabase</span><span class="p">(</span><span class="n">string</span> <span class="n">database</span><span class="p">)</span>
<span class="n">SetDocument</span>      <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetDocument</span><span class="p">(</span><span class="n">string</span> <span class="n">document</span><span class="p">)</span>
<span class="n">SetMethod</span>        <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetMethod</span><span class="p">(</span><span class="n">string</span> <span class="n">method</span><span class="p">)</span>
<span class="n">SetParameter</span>     <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetParameter</span><span class="p">(</span><span class="n">array</span> <span class="k">parameter</span><span class="p">)</span>
<span class="n">SetPort</span>          <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetPort</span><span class="p">(</span><span class="n">int</span> <span class="n">port</span><span class="p">)</span>
<span class="n">SetProxy</span>         <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetProxy</span><span class="p">(</span><span class="n">string</span> <span class="n">uri</span><span class="p">),</span> <span class="n">void</span> <span class="n">SetProxy</span><span class="p">(</span><span class="n">string</span> <span class="n">uri</span><span class="p">,</span> <span class="n">string</span> <span class="n">user</span><span class="p">,</span> <span class="n">string</span> <span class="n">pass</span><span class="p">),</span> <span class="n">void</span> <span class="n">SetProxy</span><span class="p">(</span><span class="n">string</span> <span class="n">uri</span><span class="p">,</span> <span class="n">pscredential</span> <span class="n">credential</span><span class="p">)</span>
<span class="n">SetServer</span>        <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetServer</span><span class="p">(</span><span class="n">string</span> <span class="n">server</span><span class="p">)</span>
<span class="n">SetSsl</span>           <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetSsl</span><span class="p">(),</span> <span class="n">void</span> <span class="n">SetSsl</span><span class="p">(</span><span class="n">int</span> <span class="n">port</span><span class="p">)</span>
<span class="n">ToString</span>         <span class="n">Method</span>     <span class="n">string</span> <span class="n">ToString</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="build-a-request">
<h3>Build a request<a class="headerlink" href="#build-a-request" title="Permalink to this headline">¶</a></h3>
<p>To create a <code class="docutils literal notranslate"><span class="pre">PSCouchDBRequest</span></code> object, just do the following.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">using</span> <span class="n">module</span> <span class="n">PSCouchDB</span>
<span class="nv">$req</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">-TypeName</span> <span class="n">PSCouchDBRequest</span>                            <span class="c"># GET http://localhost:5984/</span>
<span class="nv">$req</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">-TypeName</span> <span class="n">PSCouchDBRequest</span> <span class="n">-ArgumentList</span> <span class="s1">&#39;db&#39;</span>         <span class="c"># GET http://localhost:5984/db</span>
<span class="nv">$req</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">-TypeName</span> <span class="n">PSCouchDBRequest</span> <span class="n">-ArgumentList</span> <span class="s1">&#39;db&#39;</span><span class="p">,</span><span class="s1">&#39;doc1&#39;</span>  <span class="c"># GET http://localhost:5984/db/doc1</span>
<span class="nv">$req</span><span class="p">.</span><span class="n">GetType</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="set-server">
<h3>Set server<a class="headerlink" href="#set-server" title="Permalink to this headline">¶</a></h3>
<p>To set a different server (default is localhost).</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$req</span><span class="p">.</span><span class="n">SetServer</span><span class="p">(</span><span class="s1">&#39;https://cdb1.local:443&#39;</span><span class="p">)</span>    <span class="c"># http URI</span>
<span class="nv">$req</span><span class="p">.</span><span class="n">SetServer</span><span class="p">(</span><span class="s1">&#39;cdb1.local&#39;</span><span class="p">)</span>                <span class="c"># FQDN</span>
<span class="nv">$req</span><span class="p">.</span><span class="n">SetServer</span><span class="p">(</span><span class="s1">&#39;127.0.0.15&#39;</span><span class="p">)</span>                <span class="c"># ip address</span>
</pre></div>
</div>
</div>
<div class="section" id="set-port">
<h3>Set port<a class="headerlink" href="#set-port" title="Permalink to this headline">¶</a></h3>
<p>To set a different port (default is 5984).</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$req</span><span class="p">.</span><span class="n">SetPort</span><span class="p">(</span><span class="n">8080</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="set-proxy">
<h3>Set proxy<a class="headerlink" href="#set-proxy" title="Permalink to this headline">¶</a></h3>
<p>To set a proxy for request.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$req</span><span class="p">.</span><span class="n">SetProxy</span><span class="p">(</span><span class="s1">&#39;https://myproxy.mydomain.com:8080&#39;</span><span class="p">)</span>                      <span class="c"># proxy without credential</span>
<span class="nv">$req</span><span class="p">.</span><span class="n">SetProxy</span><span class="p">(</span><span class="s1">&#39;https://myproxy.mydomain.com:8080&#39;</span><span class="p">,</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;password&#39;</span><span class="p">)</span>  <span class="c"># proxy with user and password</span>
<span class="c"># Create credential object</span>
<span class="nv">$secStringPassword</span> <span class="p">=</span> <span class="nb">ConvertTo-SecureString</span> <span class="s1">&#39;password&#39;</span> <span class="n">-AsPlainText</span> <span class="n">-Force</span>
<span class="nv">$credOject</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">System</span><span class="p">.</span><span class="n">Management</span><span class="p">.</span><span class="n">Automation</span><span class="p">.</span><span class="n">PSCredential</span> <span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="nv">$secStringPassword</span><span class="p">)</span>
<span class="nv">$req</span><span class="p">.</span><span class="n">SetProxy</span><span class="p">(</span><span class="s1">&#39;https://myproxy.mydomain.com:8080&#39;</span><span class="p">,</span> <span class="nv">$credOject</span><span class="p">)</span>          <span class="c"># proxy with PSCredential object</span>
<span class="nv">$req</span><span class="p">.</span><span class="n">RemoveProxy</span><span class="p">()</span>                                                      <span class="c"># remove proxy server and credential</span>
</pre></div>
</div>
</div>
<div class="section" id="set-ssl">
<h3>Set SSL<a class="headerlink" href="#set-ssl" title="Permalink to this headline">¶</a></h3>
<p>To set a SSL https.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$req</span><span class="p">.</span><span class="n">SetSsl</span><span class="p">()</span>       <span class="c"># https on 6984</span>
<span class="nv">$req</span><span class="p">.</span><span class="n">SetSsl</span><span class="p">(</span><span class="n">443</span><span class="p">)</span>    <span class="c"># https on 443</span>
</pre></div>
</div>
</div>
<div class="section" id="set-a-method">
<h3>Set a method<a class="headerlink" href="#set-a-method" title="Permalink to this headline">¶</a></h3>
<p>Default method is GET. To set other method, run this.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$req</span><span class="p">.</span><span class="n">SetMethod</span><span class="p">(</span><span class="s1">&#39;PUT&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="add-authorization">
<h3>Add authorization<a class="headerlink" href="#add-authorization" title="Permalink to this headline">¶</a></h3>
<p>To add authorization with two methods.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$req</span><span class="p">.</span><span class="n">AddAuthorization</span><span class="p">(</span><span class="s1">&#39;admin:password&#39;</span><span class="p">)</span>     <span class="c"># string version</span>
<span class="no">[string]</span><span class="nv">$userName</span> <span class="p">=</span> <span class="s1">&#39;admin&#39;</span>
<span class="no">[string]</span><span class="nv">$userPassword</span> <span class="p">=</span> <span class="s1">&#39;password&#39;</span>
<span class="no">[securestring]</span><span class="nv">$secStringPassword</span> <span class="p">=</span> <span class="nb">ConvertTo-SecureString</span> <span class="nv">$userPassword</span> <span class="n">-AsPlainText</span> <span class="n">-Force</span>
<span class="no">[pscredential]</span><span class="nv">$credOject</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">System</span><span class="p">.</span><span class="n">Management</span><span class="p">.</span><span class="n">Automation</span><span class="p">.</span><span class="n">PSCredential</span> <span class="p">(</span><span class="nv">$userName</span><span class="p">,</span> <span class="nv">$secStringPassword</span><span class="p">)</span>
<span class="nv">$req</span><span class="p">.</span><span class="n">AddAuthorization</span><span class="p">(</span><span class="nv">$credOject</span><span class="p">)</span>           <span class="c"># PSCredential object version</span>
</pre></div>
</div>
</div>
<div class="section" id="set-database">
<h3>Set database<a class="headerlink" href="#set-database" title="Permalink to this headline">¶</a></h3>
<p>To set a database on the URI object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$req</span><span class="p">.</span><span class="n">SetDatabase</span><span class="p">(</span><span class="s1">&#39;db&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="set-document">
<h3>Set document<a class="headerlink" href="#set-document" title="Permalink to this headline">¶</a></h3>
<p>To set a document on the URI object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$req</span><span class="p">.</span><span class="n">SetDocument</span><span class="p">(</span><span class="s1">&#39;doc&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="add-attachment">
<h3>Add attachment<a class="headerlink" href="#add-attachment" title="Permalink to this headline">¶</a></h3>
<p>To add an attachment to document.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$req</span><span class="p">.</span><span class="n">AddAttachment</span><span class="p">(</span><span class="s1">&#39;/path/of/file.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="set-parameter">
<h3>Set parameter<a class="headerlink" href="#set-parameter" title="Permalink to this headline">¶</a></h3>
<p>To set a parameter on the URI object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$req</span><span class="p">.</span><span class="n">SetParameter</span><span class="p">(</span><span class="s1">&#39;param&#39;</span><span class="p">)</span>                  <span class="c"># single param string</span>
<span class="nv">$req</span><span class="p">.</span><span class="n">SetParameter</span><span class="p">(</span><span class="s1">&#39;param1=true&#39;</span><span class="p">)</span>            <span class="c"># key=value param string</span>
<span class="nv">$req</span><span class="p">.</span><span class="n">SetParameter</span><span class="p">(@(</span><span class="s1">&#39;param&#39;</span><span class="p">,</span><span class="s1">&#39;param1=true&#39;</span><span class="p">))</span> <span class="c"># array param</span>
</pre></div>
</div>
</div>
<div class="section" id="set-data">
<h3>Set data<a class="headerlink" href="#set-data" title="Permalink to this headline">¶</a></h3>
<p>To set a json data.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$data</span> <span class="p">=</span> <span class="sh">@&quot;</span>
<span class="sh">{</span>
<span class="sh">    &quot;doc_ids&quot;: [</span>
<span class="sh">        &quot;test&quot;</span>
<span class="sh">    ]</span>
<span class="sh">}</span>
<span class="sh">&quot;@</span>
<span class="nv">$req</span><span class="p">.</span><span class="n">SetData</span><span class="p">(</span><span class="nv">$Data</span><span class="p">)</span>
<span class="nv">$req</span><span class="p">.</span><span class="n">GetData</span><span class="p">()</span>      <span class="c"># verify json data</span>
</pre></div>
</div>
</div>
<div class="section" id="get-uri">
<h3>Get Uri<a class="headerlink" href="#get-uri" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$req</span><span class="p">.</span><span class="n">GetUri</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="get-request-header">
<h3>Get request header<a class="headerlink" href="#get-request-header" title="Permalink to this headline">¶</a></h3>
<p>To get a request header.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$req</span><span class="p">.</span><span class="n">GetHeader</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="get-status-code">
<h3>Get status code<a class="headerlink" href="#get-status-code" title="Permalink to this headline">¶</a></h3>
<p>To get a status code of last request.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$req</span><span class="p">.</span><span class="n">GetStatus</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="get-request">
<h3>Get request<a class="headerlink" href="#get-request" title="Permalink to this headline">¶</a></h3>
<p>To get a result of request.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$req</span><span class="p">.</span><span class="n">Request</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="get-request-in-background">
<h3>Get request in background<a class="headerlink" href="#get-request-in-background" title="Permalink to this headline">¶</a></h3>
<p>To send a request in background like daemon or job.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$req</span><span class="p">.</span><span class="n">RequestAsJob</span><span class="p">(</span><span class="s1">&#39;name of job&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pscouchdbquery-class">
<h2>PSCouchDBQuery class<a class="headerlink" href="#pscouchdbquery-class" title="Permalink to this headline">¶</a></h2>
<p>This class is used to construct a query object that is compatible with Mango core.</p>
<div class="section" id="id1">
<h3>Properties<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">bookmark</span>            <span class="n">Property</span>   <span class="n">string</span> <span class="n">bookmark</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">execution_stats</span>     <span class="n">Property</span>   <span class="n">bool</span> <span class="n">execution_stats</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">fields</span>              <span class="n">Property</span>   <span class="n">array</span> <span class="n">fields</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">limit</span>               <span class="n">Property</span>   <span class="n">int</span> <span class="n">limit</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="nb">r </span>                  <span class="n">Property</span>   <span class="n">int</span> <span class="nb">r </span><span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">selector</span>            <span class="n">Property</span>   <span class="n">hashtable</span> <span class="n">selector</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">skip</span>                <span class="n">Property</span>   <span class="n">int</span> <span class="n">skip</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="nb">sort </span>               <span class="n">Property</span>   <span class="n">array</span> <span class="nb">sort </span><span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">stable</span>              <span class="n">Property</span>   <span class="n">bool</span> <span class="n">stable</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">stale</span>               <span class="n">Property</span>   <span class="n">string</span> <span class="n">stale</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">update</span>              <span class="n">Property</span>   <span class="n">bool</span> <span class="n">update</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">use_index</span>           <span class="n">Property</span>   <span class="n">array</span> <span class="n">use_index</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>Methods<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">AddFields</span>           <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddFields</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">fields</span><span class="p">)</span>
<span class="n">AddIndexies</span>         <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddIndexies</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">indexies</span><span class="p">)</span>
<span class="n">AddLogicalOperator</span>  <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddLogicalOperator</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">operator</span><span class="p">)</span>
<span class="n">AddSelector</span>         <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddSelector</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">key</span><span class="p">,</span> <span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">value</span><span class="p">)</span>
<span class="n">AddSelectorOperator</span> <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddSelectorOperator</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">operator</span><span class="p">),</span> <span class="n">void</span> <span class="n">AddSelectorOperator</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">operator</span><span class="p">,</span> <span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">key</span><span class="p">,</span> <span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">value</span><span class="p">)</span>
<span class="n">AddSortAsc</span>          <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddSortAsc</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">selector</span><span class="p">)</span>
<span class="n">AddSortDesc</span>         <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddSortDesc</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">selector</span><span class="p">)</span>
<span class="n">DisableUpdate</span>       <span class="n">Method</span>     <span class="n">void</span> <span class="n">DisableUpdate</span><span class="p">()</span>
<span class="n">Equals</span>              <span class="n">Method</span>     <span class="n">bool</span> <span class="n">Equals</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">obj</span><span class="p">)</span>
<span class="n">GetHashCode</span>         <span class="n">Method</span>     <span class="n">int</span> <span class="n">GetHashCode</span><span class="p">()</span>
<span class="n">GetNativeQuery</span>      <span class="n">Method</span>     <span class="n">string</span> <span class="n">GetNativeQuery</span><span class="p">()</span>
<span class="n">GetType</span>             <span class="n">Method</span>     <span class="nb">type </span><span class="n">GetType</span><span class="p">()</span>
<span class="n">RemoveFields</span>        <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveFields</span><span class="p">(),</span> <span class="n">void</span> <span class="n">RemoveFields</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">field</span><span class="p">)</span>
<span class="n">RemoveIndexies</span>      <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveIndexies</span><span class="p">(),</span> <span class="n">void</span> <span class="n">RemoveIndexies</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">index</span><span class="p">)</span>
<span class="n">RemoveSelector</span>      <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveSelector</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">key</span><span class="p">)</span>
<span class="n">RemoveSort</span>          <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveSort</span><span class="p">(),</span> <span class="n">void</span> <span class="n">RemoveSort</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">sort</span><span class="p">)</span>
<span class="n">ReplaceSelector</span>     <span class="n">Method</span>     <span class="n">void</span> <span class="n">ReplaceSelector</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">key</span><span class="p">,</span> <span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">value</span><span class="p">)</span>
<span class="n">SetBookmark</span>         <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetBookmark</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">bookmark</span><span class="p">)</span>
<span class="n">SetExecutionStat</span>    <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetExecutionStat</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">bool</span><span class="p">)</span>
<span class="n">SetLimit</span>            <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetLimit</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">limit</span><span class="p">)</span>
<span class="n">SetReadQuorum</span>       <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetReadQuorum</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">r</span><span class="p">)</span>
<span class="n">SetSkip</span>             <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetSkip</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">skip</span><span class="p">)</span>
<span class="n">SetStable</span>           <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetStable</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">bool</span><span class="p">)</span>
<span class="n">SetStale</span>            <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetStale</span><span class="p">()</span>
<span class="n">ToString</span>            <span class="n">Method</span>     <span class="n">string</span> <span class="n">ToString</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="build-a-query">
<h3>Build a query<a class="headerlink" href="#build-a-query" title="Permalink to this headline">¶</a></h3>
<p>To create a <code class="docutils literal notranslate"><span class="pre">PSCouchDBQuery</span></code> object, just do the following.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">using</span> <span class="n">module</span> <span class="n">PSCouchDB</span>
<span class="nv">$query</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">-TypeName</span> <span class="n">PSCouchDBQuery</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">GetType</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="work-with-selector">
<h3>Work with selector<a class="headerlink" href="#work-with-selector" title="Permalink to this headline">¶</a></h3>
<p>A CouchDB query is interpreted by Mango engine, so must have some elements. <em>Selector</em> is first our element which allows to have a search criterion.</p>
<div class="section" id="add-selector">
<h4>Add selector<a class="headerlink" href="#add-selector" title="Permalink to this headline">¶</a></h4>
<p>To add one selector to object using <em>AddSelector</em> method.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">AddSelector</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The search criterion and its exact <code class="docutils literal notranslate"><span class="pre">key</span></code> and your <code class="docutils literal notranslate"><span class="pre">value</span></code>. Now, to verify our query, just get the json, with this method <em>GetNativeQuery</em>.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">GetNativeQuery</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="remove-selector">
<h4>Remove selector<a class="headerlink" href="#remove-selector" title="Permalink to this headline">¶</a></h4>
<p>If we were wrong to enter the values, it will be enough to remove them with <em>RemoveSelector</em> and then insert them again.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">RemoveSelector</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">)</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddSelector</span><span class="p">(</span><span class="s1">&#39;answer&#39;</span><span class="p">,</span> <span class="n">42</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="replace-selector">
<h4>Replace selector<a class="headerlink" href="#replace-selector" title="Permalink to this headline">¶</a></h4>
<p>Instead if we were wrong to enter only the value of our search key, just do a replace, using the <em>ReplaceSelector</em> method</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">ReplaceSelector</span><span class="p">(</span><span class="s1">&#39;answer&#39;</span><span class="p">,</span> <span class="n">43</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="limit-and-skip">
<h3>Limit and Skip<a class="headerlink" href="#limit-and-skip" title="Permalink to this headline">¶</a></h3>
<p>To limit or skip line of query result, set the values with the appropriate methods, <em>SetLimit</em> and <em>SetSkip</em>.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">SetLimit</span><span class="p">(</span><span class="n">5</span><span class="p">)</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">SetSkip</span><span class="p">(</span><span class="n">1</span><span class="p">)</span>
</pre></div>
</div>
<p>To remove the set values, just set them to null.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">limit</span> <span class="p">=</span> <span class="nv">$null</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">skip</span> <span class="p">=</span> <span class="nv">$null</span>
</pre></div>
</div>
</div>
<div class="section" id="sort">
<h3>Sort<a class="headerlink" href="#sort" title="Permalink to this headline">¶</a></h3>
<p>To add a sort criterion, use the <em>AddSortAsc</em> method for ascending and <em>AddSortDesc</em> for the descendant.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">AddSortAsc</span><span class="p">(</span><span class="s1">&#39;answer&#39;</span><span class="p">)</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddSortDesc</span><span class="p">(</span><span class="s1">&#39;answer&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To reset the sort, just remove sorting with <em>RemoveSort</em>.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">RemoveSort</span><span class="p">()</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">RemoveSort</span><span class="p">(</span><span class="s1">&#39;answer&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="fields">
<h3>Fields<a class="headerlink" href="#fields" title="Permalink to this headline">¶</a></h3>
<p>Fields are the values that return from the query. To add them with <em>AddFields</em>.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">AddFields</span><span class="p">(</span><span class="s1">&#39;_id&#39;</span><span class="p">)</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddFields</span><span class="p">(</span><span class="s1">&#39;_rev&#39;</span><span class="p">)</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddFields</span><span class="p">(</span><span class="s1">&#39;answer&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To remove all fields use <em>RemoveFields</em>.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">RemoveFields</span><span class="p">()</span>
</pre></div>
</div>
<p>To remove manually one or more fields.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">RemoveFields</span><span class="p">(</span><span class="s1">&#39;_rev&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="indexies">
<h3>Indexies<a class="headerlink" href="#indexies" title="Permalink to this headline">¶</a></h3>
<p>To configure indexes created previously with <a class="reference external" href="databases.html#create-a-new-index">New-CouchDBIndex</a>.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">AddIndexies</span><span class="p">(</span><span class="s1">&#39;test-index&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To remove all indexes or one.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">RemoveIndexies</span><span class="p">()</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">RemoveIndexies</span><span class="p">(</span><span class="s1">&#39;test-index&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="readquorum">
<h3>ReadQuorum<a class="headerlink" href="#readquorum" title="Permalink to this headline">¶</a></h3>
<p>To set <em>ReadQuorum</em>.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">SetReadQuorum</span><span class="p">(</span><span class="n">2</span><span class="p">)</span>
</pre></div>
</div>
<p>To remove it.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="nb">r </span><span class="p">=</span> <span class="nv">$null</span>
</pre></div>
</div>
</div>
<div class="section" id="bookmark">
<h3>Bookmark<a class="headerlink" href="#bookmark" title="Permalink to this headline">¶</a></h3>
<p>To configure bookmarks created previously.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">SetBookmark</span><span class="p">(</span><span class="s1">&#39;mybookmark&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To remove it.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">bookmark</span> <span class="p">=</span> <span class="nv">$null</span>
</pre></div>
</div>
</div>
<div class="section" id="update-stable-and-stale">
<h3>Update, Stable and Stale<a class="headerlink" href="#update-stable-and-stale" title="Permalink to this headline">¶</a></h3>
<p><em>Update</em> is enabled by default. To disable it.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">DisableUpdate</span><span class="p">()</span>
</pre></div>
</div>
<p>To re-enabled it.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">update</span> <span class="p">=</span> <span class="nv">$true</span>
</pre></div>
</div>
<p>To enable <em>stable</em>.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">SetStable</span><span class="p">(</span><span class="nv">$true</span><span class="p">)</span> <span class="c">#or $query.SetStable(1)</span>
</pre></div>
</div>
<p>To disable it.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">SetStable</span><span class="p">(</span><span class="nv">$false</span><span class="p">)</span> <span class="c">#or $query.SetStable(0)</span>
</pre></div>
</div>
<p><em>stale</em> properties, basically sets <em>update</em> to <code class="docutils literal notranslate"><span class="pre">false</span></code> and <em>stable</em> to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">SetStale</span><span class="p">()</span>
</pre></div>
</div>
<p>To restore all changes.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">update</span> <span class="p">=</span> <span class="nv">$true</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">stable</span> <span class="p">=</span> <span class="nv">$false</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">stale</span> <span class="p">=</span> <span class="nv">$null</span>
</pre></div>
</div>
</div>
<div class="section" id="executionstat">
<h3>ExecutionStat<a class="headerlink" href="#executionstat" title="Permalink to this headline">¶</a></h3>
<p>To return execution statistic, just enable it.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">SetExecutionStat</span><span class="p">(</span><span class="nv">$true</span><span class="p">)</span> <span class="c">#or $query.SetExecutionStat(1)</span>
</pre></div>
</div>
<p>To disable it.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">SetExecutionStat</span><span class="p">(</span><span class="nv">$false</span><span class="p">)</span> <span class="c">#or $query.SetExecutionStat(0)</span>
</pre></div>
</div>
</div>
<div class="section" id="selector-operators">
<h3>Selector Operators<a class="headerlink" href="#selector-operators" title="Permalink to this headline">¶</a></h3>
<p>The selector operators that can be used are the following: <code class="docutils literal notranslate"><span class="pre">$lt,$lte,$eq,$ne,$gte,$gt,$exists,$type,$in,$nin,$size,$mod,$regex</span></code> (see <a class="reference external" href="documents.html#operators">operator table</a>).
The method <em>AddSelectorOperator</em> works in two ways: by specifying only the operator, so it will be applied to all the selector;
by specifying the selector and the value that you want to associate.</p>
<div class="section" id="lt-lte-eq-ne-gte-gt">
<h4>$lt,$lte,$eq,$ne,$gte,$gt<a class="headerlink" href="#lt-lte-eq-ne-gte-gt" title="Permalink to this headline">¶</a></h4>
<p>The implicit operator used is <code class="docutils literal notranslate"><span class="pre">$eq</span></code>. The <em>AddSelectorOperator</em> method append operators at the designated selector.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">AddSelectorOperator</span><span class="p">(</span><span class="s1">&#39;$eq&#39;</span><span class="p">)</span>
<span class="nb">Find-CouchDBDocuments</span> <span class="n">-Database</span> <span class="n">test</span> <span class="n">-Find</span> <span class="nv">$query</span><span class="p">.</span><span class="n">GetNativeQuery</span><span class="p">()</span>
</pre></div>
</div>
<p>To change operator or restore changes.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">ReplaceSelector</span><span class="p">(</span><span class="s1">&#39;answer&#39;</span><span class="p">,</span> <span class="n">42</span><span class="p">)</span> <span class="c">#to restore only this</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddSelectorOperator</span><span class="p">(</span><span class="s1">&#39;$lt&#39;</span><span class="p">)</span>
<span class="nb">Find-CouchDBDocuments</span> <span class="n">-Database</span> <span class="n">test</span> <span class="n">-Find</span> <span class="nv">$query</span><span class="p">.</span><span class="n">GetNativeQuery</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="exists-type-in-nin-size-mod">
<h4>$exists,$type,$in,$nin,$size,$mod<a class="headerlink" href="#exists-type-in-nin-size-mod" title="Permalink to this headline">¶</a></h4>
<p>With these operators we must also specify the selector we want and its value.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">AddSelectorOperator</span><span class="p">(</span><span class="s1">&#39;$exists&#39;</span><span class="p">,</span><span class="s1">&#39;answer&#39;</span><span class="p">,</span><span class="s1">&#39;true&#39;</span><span class="p">)</span>
<span class="c">#or</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddSelectorOperator</span><span class="p">(</span><span class="s1">&#39;$type&#39;</span><span class="p">,</span><span class="s1">&#39;answer&#39;</span><span class="p">,</span><span class="s1">&#39;string&#39;</span><span class="p">)</span>
<span class="c">#or</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddSelector</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;Arthur&#39;</span><span class="p">)</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddSelector</span><span class="p">(</span><span class="s1">&#39;planet&#39;</span><span class="p">,@(</span><span class="s1">&#39;Heart&#39;</span><span class="p">,</span><span class="s1">&#39;Magrathea&#39;</span><span class="p">))</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddSelectorOperator</span><span class="p">(</span><span class="s1">&#39;$in&#39;</span><span class="p">,</span><span class="s1">&#39;planet&#39;</span><span class="p">,</span><span class="s1">&#39;Magrathea&#39;</span><span class="p">)</span>
<span class="c">#or</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddSelectorOperator</span><span class="p">(</span><span class="s1">&#39;$nin&#39;</span><span class="p">,</span><span class="s1">&#39;planet&#39;</span><span class="p">,</span><span class="s1">&#39;Vogsphere&#39;</span><span class="p">)</span>
<span class="c">#or apply operator for all selector</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">ReplaceSelector</span><span class="p">(</span><span class="s1">&#39;answer&#39;</span><span class="p">,</span><span class="n">43</span><span class="p">)</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">ReplaceSelector</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;Arthur&#39;</span><span class="p">)</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">ReplaceSelector</span><span class="p">(</span><span class="s1">&#39;planet&#39;</span><span class="p">,@(</span><span class="s1">&#39;heart&#39;</span><span class="p">,</span><span class="s1">&#39;magrathea&#39;</span><span class="p">))</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddSelectorOperator</span><span class="p">(</span><span class="s1">&#39;$in&#39;</span><span class="p">)</span>
<span class="nb">Find-CouchDBDocuments</span> <span class="n">-Database</span> <span class="n">test</span> <span class="n">-Find</span> <span class="nv">$query</span><span class="p">.</span><span class="n">GetNativeQuery</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="regex">
<h4>$regex<a class="headerlink" href="#regex" title="Permalink to this headline">¶</a></h4>
<p>CouchDB support regular expression (BRE and ERE).</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">AddSelector</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;Arthur&#39;</span><span class="p">)</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddSelector</span><span class="p">(</span><span class="s1">&#39;planet&#39;</span><span class="p">,@(</span><span class="s1">&#39;Heart&#39;</span><span class="p">,</span><span class="s1">&#39;Magrathea&#39;</span><span class="p">))</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddSelectorOperator</span><span class="p">(</span><span class="s1">&#39;$regex&#39;</span><span class="p">,</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;^[Aa]r{1}[th]{2}.r$&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="logical-operators">
<h3>Logical operators<a class="headerlink" href="#logical-operators" title="Permalink to this headline">¶</a></h3>
<p>PSCouchDBQuery object support logical operators; these are the allowed operators: <code class="docutils literal notranslate"><span class="pre">$and,$or,$not,$nor,$all,$elemMatch,$allMatch</span></code> (see <a class="reference external" href="documents.html#logical-operators">logical operator table</a>).</p>
<div class="section" id="and-or-not-nor">
<h4>$and,$or,$not,$nor<a class="headerlink" href="#and-or-not-nor" title="Permalink to this headline">¶</a></h4>
<p>With method <em>AddLogicalOperator</em> logical conditions can be added.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">AddSelector</span><span class="p">(</span><span class="s1">&#39;answer&#39;</span><span class="p">,</span><span class="n">43</span><span class="p">)</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddSelector</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;Arthur&#39;</span><span class="p">)</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddSelector</span><span class="p">(</span><span class="s1">&#39;planet&#39;</span><span class="p">,@(</span><span class="s1">&#39;Heart&#39;</span><span class="p">,</span><span class="s1">&#39;Magrathea&#39;</span><span class="p">))</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddLogicalOperator</span><span class="p">(</span><span class="s1">&#39;$or&#39;</span><span class="p">)</span>
<span class="nb">Find-CouchDBDocuments</span> <span class="n">-Database</span> <span class="n">test</span> <span class="n">-Find</span> <span class="nv">$query</span><span class="p">.</span><span class="n">GetNativeQuery</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="all-elemmatch-allmatch">
<h4>$all,$elemMatch,$allMatch<a class="headerlink" href="#all-elemmatch-allmatch" title="Permalink to this headline">¶</a></h4>
<p>With these logical operators, return a single or all matches.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">AddSelector</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;Arthur&#39;</span><span class="p">)</span>
<span class="nv">$query</span><span class="p">.</span><span class="n">AddLogicalOperator</span><span class="p">(</span><span class="s1">&#39;$elemMatch&#39;</span><span class="p">)</span>
<span class="nb">Find-CouchDBDocuments</span> <span class="n">-Database</span> <span class="n">test</span> <span class="n">-Find</span> <span class="nv">$query</span><span class="p">.</span><span class="n">GetNativeQuery</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="native-query-format-mango">
<h3>Native query format (Mango)<a class="headerlink" href="#native-query-format-mango" title="Permalink to this headline">¶</a></h3>
<p>To receive the object in native format (Mango query) use the <em>GetNativeQuery</em> method.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$query</span><span class="p">.</span><span class="n">GetNativeQuery</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pscouchdbdocument-class">
<h2>PSCouchDBDocument class<a class="headerlink" href="#pscouchdbdocument-class" title="Permalink to this headline">¶</a></h2>
<p>This class is used to construct a documents.</p>
<div class="section" id="id3">
<h3>Properties<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">_id</span>           <span class="n">Property</span>   <span class="n">string</span> <span class="n">_id</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">_rev</span>          <span class="n">Property</span>   <span class="n">string</span> <span class="n">_rev</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">_attachments</span>  <span class="n">Property</span>   <span class="n">hashtable</span> <span class="n">_attachments</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3>Methods<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">AddAttachment</span>        <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddAttachment</span><span class="p">(</span><span class="n">PSCouchDBAttachment</span> <span class="n">attachment</span><span class="p">),</span> <span class="n">void</span> <span class="n">AddAttachment</span><span class="p">(</span><span class="n">string</span> <span class="n">attachment</span><span class="p">)</span>
<span class="n">Equals</span>               <span class="n">Method</span>     <span class="n">bool</span> <span class="n">Equals</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">obj</span><span class="p">)</span>
<span class="n">FromJson</span>             <span class="n">Method</span>     <span class="n">hashtable</span> <span class="n">FromJson</span><span class="p">(</span><span class="n">string</span> <span class="n">json</span><span class="p">)</span>
<span class="n">GetDocument</span>          <span class="n">Method</span>     <span class="n">hashtable</span> <span class="n">GetDocument</span><span class="p">()</span>
<span class="n">GetHashCode</span>          <span class="n">Method</span>     <span class="n">int</span> <span class="n">GetHashCode</span><span class="p">()</span>
<span class="n">GetType</span>              <span class="n">Method</span>     <span class="nb">type </span><span class="n">GetType</span><span class="p">()</span>
<span class="n">RemoveAllAttachments</span> <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveAllAttachments</span><span class="p">()</span>
<span class="n">RemoveAttachment</span>     <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveAttachment</span><span class="p">(</span><span class="n">string</span> <span class="n">attachment</span><span class="p">)</span>
<span class="n">RemoveElement</span>        <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveElement</span><span class="p">(</span><span class="n">string</span> <span class="n">key</span><span class="p">)</span>
<span class="n">ReplaceAttachment</span>    <span class="n">Method</span>     <span class="n">void</span> <span class="n">ReplaceAttachment</span><span class="p">(</span><span class="n">PSCouchDBAttachment</span> <span class="n">attachment</span><span class="p">),</span> <span class="n">void</span> <span class="n">ReplaceAttachment</span><span class="p">(</span><span class="n">string</span> <span class="n">attachment</span><span class="p">)</span>
<span class="n">SetDocumentId</span>        <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetDocumentId</span><span class="p">(</span><span class="n">string</span> <span class="n">id</span><span class="p">)</span>
<span class="n">SetElement</span>           <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetElement</span><span class="p">(</span><span class="n">string</span> <span class="n">key</span><span class="p">),</span> <span class="n">void</span> <span class="n">SetElement</span><span class="p">(</span><span class="n">string</span> <span class="n">key</span><span class="p">,</span> <span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">value</span><span class="p">)</span>
<span class="n">ToJson</span>               <span class="n">Method</span>     <span class="n">string</span> <span class="n">ToJson</span><span class="p">(),</span> <span class="n">string</span> <span class="n">ToJson</span><span class="p">(</span><span class="n">int</span> <span class="n">depth</span><span class="p">),</span> <span class="n">string</span> <span class="n">ToJson</span><span class="p">(</span><span class="n">int</span> <span class="n">depth</span><span class="p">,</span> <span class="n">bool</span> <span class="n">compress</span><span class="p">)</span>
<span class="n">ToString</span>             <span class="n">Method</span>     <span class="n">string</span> <span class="n">ToString</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="build-a-document">
<h3>Build a document<a class="headerlink" href="#build-a-document" title="Permalink to this headline">¶</a></h3>
<p>To create a <code class="docutils literal notranslate"><span class="pre">PSCouchDBDocument</span></code> object, just do the following.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">using</span> <span class="n">module</span> <span class="n">PSCouchDB</span>
<span class="nv">$doc</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">-TypeName</span> <span class="n">PSCouchDBDocument</span>
<span class="nv">$doc</span><span class="p">.</span><span class="n">GetType</span><span class="p">()</span>
</pre></div>
</div>
<div class="section" id="add-element-to-document">
<h4>Add element to document<a class="headerlink" href="#add-element-to-document" title="Permalink to this headline">¶</a></h4>
<p>Add one element to our document object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$doc</span><span class="p">.</span><span class="n">SetElement</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>              <span class="c"># New key &quot;test&quot; with empty value</span>
<span class="nv">$doc</span><span class="p">.</span><span class="n">SetElement</span><span class="p">(</span><span class="s2">&quot;test1&quot;</span><span class="p">,</span> <span class="s2">&quot;value1&quot;</span><span class="p">)</span>   <span class="c"># New key &quot;test1&quot; with value &quot;value1&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="modify-element-to-document">
<h4>Modify element to document<a class="headerlink" href="#modify-element-to-document" title="Permalink to this headline">¶</a></h4>
<p>Modify or add an exists element on document object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$doc</span><span class="p">.</span><span class="n">SetElement</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="s2">&quot;newvalue&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="remove-element-to-document">
<h4>Remove element to document<a class="headerlink" href="#remove-element-to-document" title="Permalink to this headline">¶</a></h4>
<p>Delete an exists element on document object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$doc</span><span class="p">.</span><span class="n">RemoveElement</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="view-document">
<h4>View document<a class="headerlink" href="#view-document" title="Permalink to this headline">¶</a></h4>
<p>To view entire element of document object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$doc</span><span class="p">.</span><span class="n">GetDocument</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="get-json-document">
<h4>Get json document<a class="headerlink" href="#get-json-document" title="Permalink to this headline">¶</a></h4>
<p>To get json representation of document object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$doc</span><span class="p">.</span><span class="n">ToJson</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="add-one-attachment">
<h4>Add one attachment<a class="headerlink" href="#add-one-attachment" title="Permalink to this headline">¶</a></h4>
<p>Add an attachment to doc object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$doc</span><span class="p">.</span><span class="n">AddAttachment</span><span class="p">(</span><span class="s1">&#39;C:\test.txt&#39;</span><span class="p">)</span>   <span class="c"># string option</span>
<span class="nv">$attachment</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">PSCouchDBAttachment</span> <span class="n">-ArgumentList</span> <span class="s1">&#39;C:\test.txt&#39;</span>
<span class="nv">$doc</span><span class="p">.</span><span class="n">AddAttachment</span><span class="p">(</span><span class="nv">$attachment</span><span class="p">)</span>     <span class="c"># PSCouchDBAttachment option</span>
</pre></div>
</div>
</div>
<div class="section" id="replace-one-attachment">
<h4>Replace one attachment<a class="headerlink" href="#replace-one-attachment" title="Permalink to this headline">¶</a></h4>
<p>Replace an attachment to doc object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$doc</span><span class="p">.</span><span class="n">ReplaceAttachment</span><span class="p">(</span><span class="s1">&#39;C:\test.txt&#39;</span><span class="p">)</span>   <span class="c"># string option</span>
<span class="nv">$attachment</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">PSCouchDBAttachment</span> <span class="n">-ArgumentList</span> <span class="s1">&#39;C:\test.txt&#39;</span>
<span class="nv">$doc</span><span class="p">.</span><span class="n">ReplaceAttachment</span><span class="p">(</span><span class="nv">$attachment</span><span class="p">)</span>     <span class="c"># PSCouchDBAttachment option</span>
</pre></div>
</div>
</div>
<div class="section" id="remove-one-attachment">
<h4>Remove one attachment<a class="headerlink" href="#remove-one-attachment" title="Permalink to this headline">¶</a></h4>
<p>Remove an attachment to doc object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$doc</span><span class="p">.</span><span class="n">RemoveAttachment</span><span class="p">(</span><span class="s1">&#39;test.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="remove-all-attachments">
<h4>Remove all attachments<a class="headerlink" href="#remove-all-attachments" title="Permalink to this headline">¶</a></h4>
<p>Remove all attachments to doc object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$doc</span><span class="p">.</span><span class="n">RemoveAllAttachments</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="pscouchdbattachment-class">
<h2>PSCouchDBAttachment class<a class="headerlink" href="#pscouchdbattachment-class" title="Permalink to this headline">¶</a></h2>
<p>This class is used to construct an attachment documents.</p>
<div class="section" id="id5">
<h3>Properties<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">content_type</span> <span class="n">Property</span>   <span class="n">string</span> <span class="n">content_type</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">filename</span>     <span class="n">Property</span>   <span class="n">string</span> <span class="n">filename</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3>Methods<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">Equals</span>       <span class="n">Method</span>     <span class="n">bool</span> <span class="n">Equals</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">obj</span><span class="p">)</span>
<span class="n">GetData</span>      <span class="n">Method</span>     <span class="n">string</span> <span class="n">GetData</span><span class="p">()</span>
<span class="n">SaveData</span>     <span class="n">Method</span>     <span class="n">void</span> <span class="n">GetData</span><span class="p">()</span>
<span class="n">GetHashCode</span>  <span class="n">Method</span>     <span class="n">int</span> <span class="n">GetHashCode</span><span class="p">()</span>
<span class="n">GetRawData</span>   <span class="n">Method</span>     <span class="n">byte</span><span class="p">[]</span> <span class="n">GetRawData</span><span class="p">()</span>
<span class="n">GetType</span>      <span class="n">Method</span>     <span class="nb">type </span><span class="n">GetType</span><span class="p">()</span>
<span class="n">ToString</span>     <span class="n">Method</span>     <span class="n">string</span> <span class="n">ToString</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="build-an-attachment">
<h3>Build an attachment<a class="headerlink" href="#build-an-attachment" title="Permalink to this headline">¶</a></h3>
<p>To create a <code class="docutils literal notranslate"><span class="pre">PSCouchDBAttachment</span></code> object, just do the following.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">using</span> <span class="n">module</span> <span class="n">PSCouchDB</span>
<span class="nv">$attachment</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">PSCouchDBAttachment</span> <span class="n">-ArgumentList</span> <span class="s2">&quot;C:\test\test.log&quot;</span>
<span class="nv">$attachment</span><span class="p">.</span><span class="n">GetType</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="get-content-of-an-attachment">
<h3>Get content of an attachment<a class="headerlink" href="#get-content-of-an-attachment" title="Permalink to this headline">¶</a></h3>
<p>Get content of an attachment of a documents</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$attachment</span><span class="p">.</span><span class="n">GetData</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="attach-a-file-to-document">
<h3>Attach a file to document<a class="headerlink" href="#attach-a-file-to-document" title="Permalink to this headline">¶</a></h3>
<p>Create document object <code class="docutils literal notranslate"><span class="pre">PSCouchDBDocument</span></code> with attachment</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$attach</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">PSCouchDBAttachment</span> <span class="n">-ArgumentList</span> <span class="s2">&quot;C:\test\test.log&quot;</span>
<span class="nv">$doc1</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">PSCouchDBDocument</span> <span class="n">-ArgumentList</span> <span class="s1">&#39;122&#39;</span><span class="p">,</span> <span class="s1">&#39;1-2c903913030efb4d711db085b1f44107&#39;</span><span class="p">,</span> <span class="s2">&quot;C:\test\test.log&quot;</span>
<span class="nv">$doc2</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">PSCouchDBDocument</span> <span class="n">-ArgumentList</span> <span class="s1">&#39;122&#39;</span><span class="p">,</span> <span class="s1">&#39;1-2c903913030efb4d711db085b1f44107&#39;</span><span class="p">,</span> <span class="nv">$attach</span>
<span class="nv">$doc1</span><span class="p">.</span><span class="n">GetDocument</span><span class="p">()</span>
<span class="nv">$doc2</span><span class="p">.</span><span class="n">GetDocument</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pscouchdbbulkdocument-class">
<h2>PSCouchDBBulkDocument class<a class="headerlink" href="#pscouchdbbulkdocument-class" title="Permalink to this headline">¶</a></h2>
<p>This class is used to construct an bulk documents.</p>
<div class="section" id="id7">
<h3>Properties<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">docs</span>           <span class="n">Property</span>   <span class="n">PSCouchDBDocument</span><span class="p">[]</span> <span class="n">docs</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
</pre></div>
</div>
</div>
<div class="section" id="id8">
<h3>Methods<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">AddDocument</span>    <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddDocument</span><span class="p">(</span><span class="n">string</span> <span class="n">doc</span><span class="p">),</span> <span class="n">void</span> <span class="n">AddDocument</span><span class="p">(</span><span class="n">PSCouchDBDocument</span> <span class="n">doc</span><span class="p">)</span>
<span class="n">Equals</span>         <span class="n">Method</span>     <span class="n">bool</span> <span class="n">Equals</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">obj</span><span class="p">)</span>
<span class="n">GetDocuments</span>   <span class="n">Method</span>     <span class="n">PSCouchDBDocument</span><span class="p">[]</span> <span class="n">GetDocuments</span><span class="p">()</span>
<span class="n">GetHashCode</span>    <span class="n">Method</span>     <span class="n">int</span> <span class="n">GetHashCode</span><span class="p">()</span>
<span class="n">GetType</span>        <span class="n">Method</span>     <span class="nb">type </span><span class="n">GetType</span><span class="p">()</span>
<span class="n">RemoveDocument</span> <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveDocument</span><span class="p">(</span><span class="n">string</span> <span class="n">_id</span><span class="p">)</span>
<span class="n">SetDeleted</span>     <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetDeleted</span><span class="p">()</span>
<span class="n">ToString</span>       <span class="n">Method</span>     <span class="n">string</span> <span class="n">ToString</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="create-bulk-document">
<h3>Create bulk document<a class="headerlink" href="#create-bulk-document" title="Permalink to this headline">¶</a></h3>
<p>Create a bulk document.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">using</span> <span class="n">module</span> <span class="n">PSCouchDB</span>
<span class="nv">$bdocs</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">PSCouchDBBulkDocument</span>
<span class="nv">$bdocs</span><span class="p">.</span><span class="n">GetType</span><span class="p">()</span>
</pre></div>
</div>
<p>You can create also a bulk document with one or more documents.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">using</span> <span class="n">module</span> <span class="n">PSCouchDB</span>
<span class="nv">$doc120</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">PSCouchDBDocument</span> <span class="n">-ArgumentList</span> <span class="s1">&#39;120&#39;</span>
<span class="nv">$doc121</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">PSCouchDBDocument</span> <span class="n">-ArgumentList</span> <span class="s1">&#39;121&#39;</span>
<span class="nv">$doc122</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">PSCouchDBDocument</span> <span class="n">-ArgumentList</span> <span class="s1">&#39;122&#39;</span>
<span class="c"># One document</span>
<span class="nv">$bdocs</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">PSCouchDBBulkDocument</span> <span class="n">-ArgumentList</span> <span class="nv">$doc120</span>                             <span class="c"># PSCouchDBDocument</span>
<span class="nv">$bdocs</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">PSCouchDBBulkDocument</span> <span class="n">-ArgumentList</span> <span class="s1">&#39;{&quot;_id&quot;:&quot;test&quot;,&quot;name&quot;:&quot;test&quot;}&#39;</span>      <span class="c"># JSON</span>
<span class="c"># Two or more documents</span>
<span class="nv">$bdocs</span> <span class="p">=</span> <span class="no">[PSCouchDBBulkDocument]</span><span class="p">@{</span><span class="n">docs</span><span class="p">=@(</span><span class="nv">$doc120</span><span class="p">,</span><span class="nv">$doc121</span><span class="p">,</span><span class="nv">$doc122</span><span class="p">)}</span>
<span class="nv">$bdocs</span><span class="p">.</span><span class="n">GetType</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="add-document">
<h3>Add document<a class="headerlink" href="#add-document" title="Permalink to this headline">¶</a></h3>
<p>To add document to bulk documents.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$bdocs</span><span class="p">.</span><span class="n">AddDocument</span><span class="p">(</span><span class="nv">$doc120</span><span class="p">)</span>                         <span class="c"># PSCouchDBDocument</span>
<span class="nv">$bdocs</span><span class="p">.</span><span class="n">AddDocument</span><span class="p">(</span><span class="s1">&#39;{&quot;_id&quot;:&quot;test&quot;,&quot;name&quot;:&quot;test&quot;}&#39;</span><span class="p">)</span>  <span class="c"># JSON</span>
</pre></div>
</div>
</div>
<div class="section" id="remove-document">
<h3>Remove document<a class="headerlink" href="#remove-document" title="Permalink to this headline">¶</a></h3>
<p>To remove document to bulk documents.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$bdocs</span><span class="p">.</span><span class="n">RemoveDocument</span><span class="p">(</span><span class="s1">&#39;120&#39;</span><span class="p">)</span>      <span class="c"># _id of document</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pscouchdbsecurity-class">
<h2>PSCouchDBSecurity class<a class="headerlink" href="#pscouchdbsecurity-class" title="Permalink to this headline">¶</a></h2>
<p>This class is used to construct a security database documents.</p>
<div class="section" id="id9">
<h3>Properties<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">admins</span>           <span class="n">Property</span>   <span class="n">psobject</span> <span class="n">admins</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">members</span>          <span class="n">Property</span>   <span class="n">psobject</span> <span class="n">members</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
</pre></div>
</div>
</div>
<div class="section" id="id10">
<h3>Methods<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">AddAdmins</span>        <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddAdmins</span><span class="p">(</span><span class="n">string</span> <span class="n">name</span><span class="p">),</span> <span class="n">void</span> <span class="n">AddAdmins</span><span class="p">(</span><span class="n">array</span> <span class="n">name</span><span class="p">),</span> <span class="n">void</span> <span class="n">AddAdmins</span><span class="p">(</span><span class="n">string</span> <span class="n">name</span><span class="p">,</span> <span class="n">str</span><span class="p">...</span>
<span class="n">AddMembers</span>       <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddMembers</span><span class="p">(</span><span class="n">string</span> <span class="n">name</span><span class="p">),</span> <span class="n">void</span> <span class="n">AddMembers</span><span class="p">(</span><span class="n">array</span> <span class="n">name</span><span class="p">),</span> <span class="n">void</span> <span class="n">AddMembers</span><span class="p">(</span><span class="n">string</span> <span class="n">name</span><span class="p">,</span> <span class="p">...</span>
<span class="n">Equals</span>           <span class="n">Method</span>     <span class="n">bool</span> <span class="n">Equals</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">obj</span><span class="p">)</span>
<span class="n">GetAdmins</span>        <span class="n">Method</span>     <span class="n">hashtable</span> <span class="n">GetAdmins</span><span class="p">()</span>
<span class="n">GetHashCode</span>      <span class="n">Method</span>     <span class="n">int</span> <span class="n">GetHashCode</span><span class="p">()</span>
<span class="n">GetMembers</span>       <span class="n">Method</span>     <span class="n">hashtable</span> <span class="n">GetMembers</span><span class="p">()</span>
<span class="n">GetType</span>          <span class="n">Method</span>     <span class="nb">type </span><span class="n">GetType</span><span class="p">()</span>
<span class="n">RemoveAdminName</span>  <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveAdminName</span><span class="p">(</span><span class="n">string</span> <span class="n">name</span><span class="p">)</span>
<span class="n">RemoveAdminRole</span>  <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveAdminRole</span><span class="p">(</span><span class="n">string</span> <span class="n">role</span><span class="p">)</span>
<span class="n">RemoveMemberName</span> <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveMemberName</span><span class="p">(</span><span class="n">string</span> <span class="n">name</span><span class="p">)</span>
<span class="n">RemoveMemberRole</span> <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveMemberRole</span><span class="p">(</span><span class="n">string</span> <span class="n">role</span><span class="p">)</span>
<span class="n">ToJson</span>           <span class="n">Method</span>     <span class="n">string</span> <span class="n">ToJson</span><span class="p">()</span>
<span class="n">ToString</span>         <span class="n">Method</span>     <span class="n">string</span> <span class="n">ToString</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="create-security-document">
<h3>Create security document<a class="headerlink" href="#create-security-document" title="Permalink to this headline">¶</a></h3>
<p>Create a security document for assign permission to a database.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">using</span> <span class="n">module</span> <span class="n">PSCouchDB</span>
<span class="nv">$sec</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">PSCouchDBSecurity</span>
<span class="nv">$sec</span><span class="p">.</span><span class="n">GetType</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="get-admins">
<h3>Get admins<a class="headerlink" href="#get-admins" title="Permalink to this headline">¶</a></h3>
<p>To get all admin names and roles.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$sec</span><span class="p">.</span><span class="n">GetAdmins</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="get-members">
<h3>Get members<a class="headerlink" href="#get-members" title="Permalink to this headline">¶</a></h3>
<p>To get all member names and roles.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$sec</span><span class="p">.</span><span class="n">GetMembers</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="add-admins">
<h3>Add admins<a class="headerlink" href="#add-admins" title="Permalink to this headline">¶</a></h3>
<p>Add one or more admin names and roles to security object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$sec</span><span class="p">.</span><span class="n">AddAdmins</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">)</span>                                      <span class="c"># add admin name</span>
<span class="nv">$sec</span><span class="p">.</span><span class="n">AddAdmins</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">,</span> <span class="s1">&#39;roots&#39;</span><span class="p">)</span>                             <span class="c"># add admin name and role</span>
<span class="nv">$sec</span><span class="p">.</span><span class="n">AddAdmins</span><span class="p">(@(</span><span class="s1">&#39;root&#39;</span><span class="p">,</span> <span class="s1">&#39;admin&#39;</span><span class="p">))</span>                          <span class="c"># add admin names</span>
<span class="nv">$sec</span><span class="p">.</span><span class="n">AddAdmins</span><span class="p">(@(</span><span class="s1">&#39;root&#39;</span><span class="p">,</span> <span class="s1">&#39;admin&#39;</span><span class="p">),</span> <span class="p">@(</span><span class="s1">&#39;roots&#39;</span><span class="p">,</span> <span class="s1">&#39;admins&#39;</span><span class="p">))</span>    <span class="c"># add admin names and roles</span>
</pre></div>
</div>
</div>
<div class="section" id="add-members">
<h3>Add members<a class="headerlink" href="#add-members" title="Permalink to this headline">¶</a></h3>
<p>Add one or more member names and roles to security object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$sec</span><span class="p">.</span><span class="n">AddMembers</span><span class="p">(</span><span class="s1">&#39;member1&#39;</span><span class="p">)</span>                                      <span class="c"># add member name</span>
<span class="nv">$sec</span><span class="p">.</span><span class="n">AddMembers</span><span class="p">(</span><span class="s1">&#39;member1&#39;</span><span class="p">,</span> <span class="s1">&#39;access&#39;</span><span class="p">)</span>                            <span class="c"># add member name and role</span>
<span class="nv">$sec</span><span class="p">.</span><span class="n">AddMembers</span><span class="p">(@(</span><span class="s1">&#39;member1&#39;</span><span class="p">,</span> <span class="s1">&#39;member2&#39;</span><span class="p">))</span>                        <span class="c"># add member names</span>
<span class="nv">$sec</span><span class="p">.</span><span class="n">AddMembers</span><span class="p">(@(</span><span class="s1">&#39;member1&#39;</span><span class="p">,</span> <span class="s1">&#39;member2&#39;</span><span class="p">),</span> <span class="p">@(</span><span class="s1">&#39;access&#39;</span><span class="p">,</span> <span class="s1">&#39;read&#39;</span><span class="p">))</span>   <span class="c"># add member names and roles</span>
</pre></div>
</div>
</div>
<div class="section" id="remove-admin">
<h3>Remove admin<a class="headerlink" href="#remove-admin" title="Permalink to this headline">¶</a></h3>
<p>Remove one admin to security object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$sec</span><span class="p">.</span><span class="n">RemoveAdminName</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">)</span>    <span class="c"># remove member name</span>
<span class="nv">$sec</span><span class="p">.</span><span class="n">RemoveAdminRole</span><span class="p">(</span><span class="s1">&#39;roots&#39;</span><span class="p">)</span>   <span class="c"># remove member role</span>
</pre></div>
</div>
</div>
<div class="section" id="remove-member">
<h3>Remove member<a class="headerlink" href="#remove-member" title="Permalink to this headline">¶</a></h3>
<p>Remove one member to security object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$sec</span><span class="p">.</span><span class="n">RemoveMemberName</span><span class="p">(</span><span class="s1">&#39;member1&#39;</span><span class="p">)</span>    <span class="c"># remove member name</span>
<span class="nv">$sec</span><span class="p">.</span><span class="n">RemoveMemberRole</span><span class="p">(</span><span class="s1">&#39;access&#39;</span><span class="p">)</span>     <span class="c"># remove member role</span>
</pre></div>
</div>
</div>
<div class="section" id="get-json">
<h3>Get json<a class="headerlink" href="#get-json" title="Permalink to this headline">¶</a></h3>
<p>To get json string to security object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$sec</span><span class="p">.</span><span class="n">ToJson</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pscouchdbreplication-class">
<h2>PSCouchDBReplication class<a class="headerlink" href="#pscouchdbreplication-class" title="Permalink to this headline">¶</a></h2>
<p>This class is used to construct a replica database documents.</p>
<div class="section" id="id11">
<h3>Properties<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">continuous</span>              <span class="n">Property</span>   <span class="n">bool</span> <span class="n">continuous</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">source</span>                  <span class="n">Property</span>   <span class="n">System</span><span class="p">.</span><span class="n">UriBuilder</span> <span class="n">source</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">target</span>                  <span class="n">Property</span>   <span class="n">System</span><span class="p">.</span><span class="n">UriBuilder</span> <span class="n">target</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">_id</span>                     <span class="n">Property</span>   <span class="n">string</span> <span class="n">_id</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">_rev</span>                    <span class="n">Property</span>   <span class="n">string</span> <span class="n">_rev</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
</pre></div>
</div>
</div>
<div class="section" id="id12">
<h3>Methods<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">AddDocIds</span>               <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddDocIds</span><span class="p">(</span><span class="n">array</span> <span class="n">ids</span><span class="p">)</span>
<span class="n">AddSourceAuthentication</span> <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddSourceAuthentication</span><span class="p">(</span><span class="n">string</span> <span class="n">user</span><span class="p">,</span> <span class="n">string</span> <span class="n">passwd</span><span class="p">)</span>
<span class="n">AddTargetAuthentication</span> <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddTargetAuthentication</span><span class="p">(</span><span class="n">string</span> <span class="n">user</span><span class="p">,</span> <span class="n">string</span> <span class="n">passwd</span><span class="p">)</span>
<span class="n">CreateTarget</span>            <span class="n">Method</span>     <span class="n">void</span> <span class="n">CreateTarget</span><span class="p">()</span>
<span class="n">Equals</span>                  <span class="n">Method</span>     <span class="n">bool</span> <span class="n">Equals</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">obj</span><span class="p">)</span>
<span class="n">GetDocument</span>             <span class="n">Method</span>     <span class="n">hashtable</span> <span class="n">GetDocument</span><span class="p">()</span>
<span class="n">GetHashCode</span>             <span class="n">Method</span>     <span class="n">int</span> <span class="n">GetHashCode</span><span class="p">()</span>
<span class="n">GetType</span>                 <span class="n">Method</span>     <span class="nb">type </span><span class="n">GetType</span><span class="p">()</span>
<span class="n">SetCancel</span>               <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetCancel</span><span class="p">()</span>
<span class="n">SetCheckpointInterval</span>   <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetCheckpointInterval</span><span class="p">(</span><span class="n">int</span> <span class="n">ms</span><span class="p">)</span>
<span class="n">SetContinuous</span>           <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetContinuous</span><span class="p">()</span>
<span class="n">SetFilter</span>               <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetFilter</span><span class="p">(</span><span class="n">string</span> <span class="k">filter</span><span class="p">)</span>
<span class="n">SetQueryParams</span>          <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetQueryParams</span><span class="p">(</span><span class="n">hashtable</span> <span class="n">paramaters</span><span class="p">)</span>
<span class="n">SetRevision</span>             <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetRevision</span><span class="p">(</span><span class="n">string</span> <span class="n">revision</span><span class="p">)</span>
<span class="n">SetSelector</span>             <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetSelector</span><span class="p">(</span><span class="n">string</span> <span class="n">selector</span><span class="p">)</span>
<span class="n">SetSelector</span>             <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetSelector</span><span class="p">(</span><span class="n">PSCouchDBQuery</span> <span class="n">selector</span><span class="p">)</span>
<span class="n">SetSinceSequence</span>        <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetSinceSequence</span><span class="p">(</span><span class="n">string</span> <span class="n">sequence</span><span class="p">)</span>
<span class="n">SetSourceProxy</span>          <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetSourceProxy</span><span class="p">(</span><span class="n">string</span> <span class="n">proxyUri</span><span class="p">)</span>
<span class="n">SetSourceServer</span>         <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetSourceServer</span><span class="p">(</span><span class="n">string</span> <span class="n">server</span><span class="p">)</span>
<span class="n">SetSourceSsl</span>            <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetSourceSsl</span><span class="p">(),</span> <span class="n">void</span> <span class="n">SetSourceSsl</span><span class="p">(</span><span class="n">int</span> <span class="n">port</span><span class="p">)</span>
<span class="n">SetTargetProxy</span>          <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetTargetProxy</span><span class="p">(</span><span class="n">string</span> <span class="n">proxyUri</span><span class="p">)</span>
<span class="n">SetTargetServer</span>         <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetTargetServer</span><span class="p">(</span><span class="n">string</span> <span class="n">server</span><span class="p">)</span>
<span class="n">SetTargetSsl</span>            <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetTargetSsl</span><span class="p">(),</span> <span class="n">void</span> <span class="n">SetTargetSsl</span><span class="p">(</span><span class="n">int</span> <span class="n">port</span><span class="p">)</span>
<span class="n">ToJson</span>                  <span class="n">Method</span>     <span class="n">string</span> <span class="n">ToJson</span><span class="p">()</span>
<span class="n">ToString</span>                <span class="n">Method</span>     <span class="n">string</span> <span class="n">ToString</span><span class="p">()</span>
<span class="n">UseCheckpoints</span>          <span class="n">Method</span>     <span class="n">void</span> <span class="n">UseCheckpoints</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="create-replication-document">
<h3>Create replication document<a class="headerlink" href="#create-replication-document" title="Permalink to this headline">¶</a></h3>
<p>Create a replication document.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">using</span> <span class="n">module</span> <span class="n">PSCouchDB</span>
<span class="nv">$rep</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">PSCouchDBReplication</span> <span class="n">-ArgumentList</span> <span class="s1">&#39;db&#39;</span><span class="p">,</span><span class="s1">&#39;repdb&#39;</span>
<span class="nv">$rep</span><span class="p">.</span><span class="n">GetType</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="set-revision">
<h3>Set revision<a class="headerlink" href="#set-revision" title="Permalink to this headline">¶</a></h3>
<p>Set revision to replication document.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$rep</span><span class="p">.</span><span class="n">SetRevision</span><span class="p">(</span><span class="s2">&quot;1-f6d66c4d70da66cded6bea889468eb14&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="set-authentication">
<h3>Set authentication<a class="headerlink" href="#set-authentication" title="Permalink to this headline">¶</a></h3>
<p>Add authentication for source and target database.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$rep</span><span class="p">.</span><span class="n">AddSourceAuthentication</span><span class="p">(</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span><span class="s2">&quot;password&quot;</span><span class="p">)</span> <span class="c"># Source</span>
<span class="nv">$rep</span><span class="p">.</span><span class="n">AddTargetAuthentication</span><span class="p">(</span><span class="s2">&quot;admin&quot;</span><span class="p">,</span><span class="s2">&quot;password&quot;</span><span class="p">)</span> <span class="c"># Target</span>
</pre></div>
</div>
</div>
<div class="section" id="id13">
<h3>Set SSL<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p>Set SSL (https protocol) for source and target database.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$rep</span><span class="p">.</span><span class="n">SetSourceSsl</span><span class="p">()</span> <span class="c"># Source</span>
<span class="nv">$rep</span><span class="p">.</span><span class="n">SetTargetSsl</span><span class="p">(</span><span class="n">443</span><span class="p">)</span> <span class="c"># Target, specifying port</span>
</pre></div>
</div>
</div>
<div class="section" id="id14">
<h3>Set server<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p>Set server (default localhost) for source and target database.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$rep</span><span class="p">.</span><span class="n">SetSourceServer</span><span class="p">(</span><span class="s1">&#39;db1.local&#39;</span><span class="p">)</span> <span class="c"># Source</span>
<span class="nv">$rep</span><span class="p">.</span><span class="n">SetTargetServer</span><span class="p">(</span><span class="s1">&#39;db2.local&#39;</span><span class="p">)</span> <span class="c"># Target, specifying port</span>
</pre></div>
</div>
</div>
<div class="section" id="set-cancel-operation">
<h3>Set cancel operation<a class="headerlink" href="#set-cancel-operation" title="Permalink to this headline">¶</a></h3>
<p>Set cancel flag for request replica operation.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$rep</span><span class="p">.</span><span class="n">SetCancel</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="set-continuous-replica">
<h3>Set continuous replica<a class="headerlink" href="#set-continuous-replica" title="Permalink to this headline">¶</a></h3>
<p>Set continuous flag for replica operation.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$rep</span><span class="p">.</span><span class="n">SetContinuous</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="other-flag-for-replica">
<h3>Other flag for replica<a class="headerlink" href="#other-flag-for-replica" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$rep</span><span class="p">.</span><span class="n">SetCheckpointInterval</span><span class="p">(</span><span class="n">300</span><span class="p">)</span> <span class="c"># checkpoint interval in milliseconds</span>
<span class="nv">$rep</span><span class="p">.</span><span class="n">CreateTarget</span><span class="p">()</span>             <span class="c"># create target database</span>
<span class="nv">$rep</span><span class="p">.</span><span class="n">AddDocIds</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span><span class="s1">&#39;test2&#39;</span><span class="p">)</span>  <span class="c"># replicate only ids specified</span>
<span class="nv">$rep</span><span class="p">.</span><span class="n">SetFilter</span><span class="p">()</span>                <span class="c"># set filter function (ddoc/filter format)</span>
<span class="nv">$rep</span><span class="p">.</span><span class="n">SetSourceProxy</span><span class="p">()</span>           <span class="c"># set source proxy server</span>
<span class="nv">$rep</span><span class="p">.</span><span class="n">SetTargetProxy</span><span class="p">()</span>           <span class="c"># set target proxy server</span>
<span class="nv">$rep</span><span class="p">.</span><span class="n">SetQueryParams</span><span class="p">()</span>           <span class="c"># set query for filter function</span>
<span class="nv">$rep</span><span class="p">.</span><span class="n">SetSelector</span><span class="p">()</span>              <span class="c"># set selector (see PSCouchDBQuery)</span>
<span class="nv">$rep</span><span class="p">.</span><span class="n">SetSinceSequence</span><span class="p">()</span>         <span class="c"># set since sequence</span>
<span class="nv">$rep</span><span class="p">.</span><span class="n">UseCheckpoints</span><span class="p">()</span>           <span class="c"># use checkpoint for replication</span>
</pre></div>
</div>
</div>
<div class="section" id="get-replication-document">
<h3>Get replication document<a class="headerlink" href="#get-replication-document" title="Permalink to this headline">¶</a></h3>
<p>Get the replication document.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$rep</span><span class="p">.</span><span class="n">GetDocument</span><span class="p">()</span>  <span class="c"># hashtable format</span>
<span class="nv">$rep</span><span class="p">.</span><span class="n">ToJson</span><span class="p">()</span>       <span class="c"># json format</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pscouchdbview-class">
<h2>PSCouchDBView class<a class="headerlink" href="#pscouchdbview-class" title="Permalink to this headline">¶</a></h2>
<p>This class is used to construct a view.</p>
<div class="section" id="id15">
<h3>Properties<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">map</span>                   <span class="n">Property</span>   <span class="n">string</span> <span class="n">map</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">name</span>                  <span class="n">Property</span>   <span class="n">string</span> <span class="n">name</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">reduce</span>                <span class="n">Property</span>   <span class="n">string</span> <span class="n">reduce</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">view</span>                  <span class="n">Property</span>   <span class="n">psobject</span> <span class="n">view</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
</pre></div>
</div>
</div>
<div class="section" id="id16">
<h3>Methods<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">AddMapFunction</span>        <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddMapFunction</span><span class="p">(</span><span class="n">string</span> <span class="k">function</span><span class="p">)</span>
<span class="n">AddReduceFunction</span>     <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddReduceFunction</span><span class="p">(</span><span class="n">string</span> <span class="k">function</span><span class="p">)</span>
<span class="n">BuilMapFunction</span>       <span class="n">Method</span>     <span class="n">string</span> <span class="no">[PSCouchDBView]</span><span class="p">::</span><span class="n">BuilMapFunction</span><span class="p">(</span><span class="n">hashtable</span> <span class="n">condition</span><span class="p">)</span>
<span class="n">Equals</span>                <span class="n">Method</span>     <span class="n">bool</span> <span class="n">Equals</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">obj</span><span class="p">)</span>
<span class="n">GetHashCode</span>           <span class="n">Method</span>     <span class="n">int</span> <span class="n">GetHashCode</span><span class="p">()</span>
<span class="n">GetJsonView</span>           <span class="n">Method</span>     <span class="n">string</span> <span class="n">GetJsonView</span><span class="p">()</span>
<span class="n">GetType</span>               <span class="n">Method</span>     <span class="nb">type </span><span class="n">GetType</span><span class="p">()</span>
<span class="n">GetView</span>               <span class="n">Method</span>     <span class="n">hashtable</span> <span class="n">GetView</span><span class="p">()</span>
<span class="n">RemoveMapFunction</span>     <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveMapFunction</span><span class="p">()</span>
<span class="n">RemoveReduceFunction</span>  <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveReduceFunction</span><span class="p">()</span>
<span class="n">ReplaceMapFunction</span>    <span class="n">Method</span>     <span class="n">void</span> <span class="n">ReplaceMapFunction</span><span class="p">(</span><span class="n">string</span> <span class="k">function</span><span class="p">)</span>
<span class="n">ReplaceReduceFunction</span> <span class="n">Method</span>     <span class="n">void</span> <span class="n">ReplaceReduceFunction</span><span class="p">(</span><span class="n">string</span> <span class="k">function</span><span class="p">)</span>
<span class="n">ToString</span>              <span class="n">Method</span>     <span class="n">string</span> <span class="n">ToString</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="build-a-view">
<h3>Build a view<a class="headerlink" href="#build-a-view" title="Permalink to this headline">¶</a></h3>
<p>To create a <code class="docutils literal notranslate"><span class="pre">PSCouchDBView</span></code> object, just do the following.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">using</span> <span class="n">module</span> <span class="n">PSCouchDB</span>
<span class="nv">$view</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">PSCouchDBView</span> <span class="n">-ArgumentList</span> <span class="s2">&quot;test_view&quot;</span>
<span class="nv">$doc</span><span class="p">.</span><span class="n">GetType</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="get-view">
<h3>Get view<a class="headerlink" href="#get-view" title="Permalink to this headline">¶</a></h3>
<p>Get content of view, in two methods.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$view</span><span class="p">.</span><span class="n">GetView</span><span class="p">()</span>     <span class="c"># hashtable content</span>
<span class="nv">$view</span><span class="p">.</span><span class="n">GetJsonView</span><span class="p">()</span> <span class="c"># string json content</span>
</pre></div>
</div>
</div>
<div class="section" id="add-function">
<h3>Add function<a class="headerlink" href="#add-function" title="Permalink to this headline">¶</a></h3>
<p>Add one map function to view object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$view</span><span class="p">.</span><span class="n">AddMapFunction</span><span class="p">(</span><span class="s2">&quot;function(doc) { emit(doc.name, doc.age); }&quot;</span><span class="p">)</span>          <span class="c"># add first map function</span>
<span class="nv">$view</span><span class="p">.</span><span class="n">ReplaceMapFunction</span><span class="p">(</span><span class="s2">&quot;function(doc) { emit(doc.name, doc.surname); }&quot;</span><span class="p">)</span>  <span class="c"># replace exists map function</span>
</pre></div>
</div>
<p>Add one reduce function to view object.
The sets valid for the reduce functions are: <code class="docutils literal notranslate"><span class="pre">_approx_count_distinct</span></code>,``_count``,``_stats``,``_sum``</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$view</span><span class="p">.</span><span class="n">AddReduceFunction</span><span class="p">(</span><span class="s2">&quot;_sum&quot;</span><span class="p">)</span>             <span class="c"># add first reduce function</span>
<span class="nv">$view</span><span class="p">.</span><span class="n">ReplaceReduceFunction</span><span class="p">(</span><span class="s2">&quot;_count&quot;</span><span class="p">)</span>       <span class="c"># replace exists reduce function</span>
</pre></div>
</div>
</div>
<div class="section" id="remove-function">
<h3>Remove function<a class="headerlink" href="#remove-function" title="Permalink to this headline">¶</a></h3>
<p>Remove exists map function to view object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$view</span><span class="p">.</span><span class="n">RemoveMapFunction</span><span class="p">()</span>
</pre></div>
</div>
<p>Remove exists reduce function to view object.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$view</span><span class="p">.</span><span class="n">RemoveReduceFunction</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="build-a-map-function">
<h3>Build a map function<a class="headerlink" href="#build-a-map-function" title="Permalink to this headline">¶</a></h3>
<p>This object have a method than permit to create a simple map function.
Before, create a condition hashtable.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$condition</span> <span class="p">=</span> <span class="p">@{</span>
        <span class="n">EQUAL</span> <span class="p">=</span> <span class="s1">&#39;doc.field1 == 0&#39;</span><span class="p">;</span>  <span class="c"># Add if condition to function: if (doc.field1 == 0) {}</span>
        <span class="n">EQUEMIT</span> <span class="p">=</span> <span class="s1">&#39;doc.field1&#39;</span><span class="p">;</span>     <span class="c"># Add emit function to if equal condition: if (doc.field1 == 0) {emit(doc.field1)}</span>
        <span class="n">MINIMUM</span> <span class="p">=</span> <span class="s1">&#39;doc.field1 &lt; 0&#39;</span><span class="p">;</span> <span class="c"># Add if condition to function: if (doc.field1 &lt; 0) {}</span>
        <span class="n">MINEMIT</span> <span class="p">=</span> <span class="s1">&#39;doc.field2&#39;</span><span class="p">;</span>     <span class="c"># Add emit function to if equal condition: if (doc.field1 &lt; 0) {emit(doc.field1)}</span>
        <span class="n">MAXIMUM</span> <span class="p">=</span> <span class="s1">&#39;doc.field1 &gt; 0&#39;</span><span class="p">;</span> <span class="c"># Add if condition to function: if (doc.field1 &gt; 0) {}</span>
        <span class="n">MAXEMIT</span> <span class="p">=</span> <span class="s1">&#39;doc.field3&#39;</span><span class="p">;</span>     <span class="c"># Add emit function to if equal condition: if (doc.field1 &gt; 0) {emit(doc.field1)}</span>
        <span class="n">EMITDOC</span> <span class="p">=</span> <span class="s2">&quot;doc&quot;</span>             <span class="c"># If other emit is specified, this is null</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>Now pass this hashtable like argument to method.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$map</span> <span class="p">=</span> <span class="no">[PSCouchDBView]</span><span class="p">::</span><span class="n">BuildMapFunction</span><span class="p">(</span><span class="nv">$condition</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="pscouchdbdesigndoc-class">
<h2>PSCouchDBDesignDoc class<a class="headerlink" href="#pscouchdbdesigndoc-class" title="Permalink to this headline">¶</a></h2>
<p>This class is used to construct a design documents, simple or complex.</p>
<div class="section" id="id17">
<h3>Properties<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">validate_doc_update</span>  <span class="n">Property</span>   <span class="n">string</span> <span class="n">validate_doc_update</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">views</span>                <span class="n">Property</span>   <span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">views</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">_attachments</span>         <span class="n">Property</span>   <span class="n">hashtable</span> <span class="n">_attachments</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">_id</span>                  <span class="n">Property</span>   <span class="n">string</span> <span class="n">_id</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
<span class="n">_rev</span>                 <span class="n">Property</span>   <span class="n">string</span> <span class="n">_rev</span> <span class="p">{</span><span class="n">get</span><span class="p">;</span><span class="n">set</span><span class="p">;}</span>
</pre></div>
</div>
</div>
<div class="section" id="id18">
<h3>Methods<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">AddAttachment</span>        <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddAttachment</span><span class="p">(</span><span class="n">PSCouchDBAttachment</span> <span class="n">attachment</span><span class="p">),</span> <span class="n">void</span> <span class="n">AddAttachment</span><span class="p">(</span><span class="n">string</span> <span class="n">attach</span><span class="p">...</span>
<span class="n">AddView</span>              <span class="n">Method</span>     <span class="n">void</span> <span class="n">AddView</span><span class="p">(</span><span class="n">PSCouchDBView</span> <span class="n">view</span><span class="p">),</span> <span class="n">void</span> <span class="n">AddView</span><span class="p">(</span><span class="n">string</span> <span class="n">name</span><span class="p">,</span> <span class="n">string</span> <span class="n">map</span><span class="p">),</span> <span class="n">void</span> <span class="n">AddVie</span><span class="p">...</span>
<span class="n">Equals</span>               <span class="n">Method</span>     <span class="n">bool</span> <span class="n">Equals</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Object</span> <span class="n">obj</span><span class="p">)</span>
<span class="n">FromJson</span>             <span class="n">Method</span>     <span class="n">hashtable</span> <span class="n">FromJson</span><span class="p">(</span><span class="n">string</span> <span class="n">json</span><span class="p">)</span>
<span class="n">GetDocument</span>          <span class="n">Method</span>     <span class="n">hashtable</span> <span class="n">GetDocument</span><span class="p">()</span>
<span class="n">GetHashCode</span>          <span class="n">Method</span>     <span class="n">int</span> <span class="n">GetHashCode</span><span class="p">()</span>
<span class="n">GetType</span>              <span class="n">Method</span>     <span class="nb">type </span><span class="n">GetType</span><span class="p">()</span>
<span class="n">RemoveAllAttachments</span> <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveAllAttachments</span><span class="p">()</span>
<span class="n">RemoveAttachment</span>     <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveAttachment</span><span class="p">(</span><span class="n">string</span> <span class="n">attachment</span><span class="p">)</span>
<span class="n">RemoveElement</span>        <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveElement</span><span class="p">(</span><span class="n">string</span> <span class="n">key</span><span class="p">)</span>
<span class="n">RemoveView</span>           <span class="n">Method</span>     <span class="n">void</span> <span class="n">RemoveView</span><span class="p">(</span><span class="n">string</span> <span class="n">name</span><span class="p">)</span>
<span class="n">ReplaceAttachment</span>    <span class="n">Method</span>     <span class="n">void</span> <span class="n">ReplaceAttachment</span><span class="p">(</span><span class="n">PSCouchDBAttachment</span> <span class="n">attachment</span><span class="p">),</span> <span class="n">void</span> <span class="n">ReplaceAttachment</span><span class="p">(</span><span class="n">strin</span><span class="p">...</span>
<span class="n">ReplaceView</span>          <span class="n">Method</span>     <span class="n">void</span> <span class="n">ReplaceView</span><span class="p">(</span><span class="n">PSCouchDBView</span> <span class="n">view</span><span class="p">),</span> <span class="n">void</span> <span class="n">ReplaceView</span><span class="p">(</span><span class="n">string</span> <span class="n">name</span><span class="p">,</span> <span class="n">string</span> <span class="n">map</span><span class="p">),</span> <span class="n">voi</span><span class="p">...</span>
<span class="n">SetElement</span>           <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetElement</span><span class="p">(</span><span class="n">string</span> <span class="n">key</span><span class="p">),</span> <span class="n">void</span> <span class="n">SetElement</span><span class="p">(</span><span class="n">string</span> <span class="n">key</span><span class="p">,</span> <span class="n">string</span> <span class="n">value</span><span class="p">)</span>
<span class="n">SetValidateFunction</span>  <span class="n">Method</span>     <span class="n">void</span> <span class="n">SetValidateFunction</span><span class="p">(</span><span class="n">string</span> <span class="k">function</span><span class="p">)</span>
<span class="n">ToJson</span>               <span class="n">Method</span>     <span class="n">string</span> <span class="n">ToJson</span><span class="p">(),</span> <span class="n">string</span> <span class="n">ToJson</span><span class="p">(</span><span class="n">int</span> <span class="n">depth</span><span class="p">),</span> <span class="n">string</span> <span class="n">ToJson</span><span class="p">(</span><span class="n">int</span> <span class="n">depth</span><span class="p">,</span> <span class="n">bool</span> <span class="n">compress</span><span class="p">)</span>
<span class="n">ToString</span>             <span class="n">Method</span>     <span class="n">string</span> <span class="n">ToString</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="build-a-design-document">
<h3>Build a design document<a class="headerlink" href="#build-a-design-document" title="Permalink to this headline">¶</a></h3>
<p>To create a <code class="docutils literal notranslate"><span class="pre">PSCouchDBDesignDoc</span></code> object, just do the following.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">using</span> <span class="n">module</span> <span class="n">PSCouchDB</span>
<span class="nv">$ddoc</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">-TypeName</span> <span class="n">PSCouchDBDesignDoc</span>
<span class="nv">$ddoc</span><span class="p">.</span><span class="n">GetType</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="work-with-views">
<h3>Work with views<a class="headerlink" href="#work-with-views" title="Permalink to this headline">¶</a></h3>
<p>Views are the primary tool used for querying and reporting on CouchDB documents. With <em>AddView</em> it is possible to add map and reduce function.</p>
<div class="section" id="add-map-function">
<h4>Add map function<a class="headerlink" href="#add-map-function" title="Permalink to this headline">¶</a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$ddoc</span><span class="p">.</span><span class="n">AddView</span><span class="p">(</span><span class="s1">&#39;myview&#39;</span><span class="p">,</span> <span class="s1">&#39;function(doc){emit(doc);}&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="add-reduce-function">
<h4>Add reduce function<a class="headerlink" href="#add-reduce-function" title="Permalink to this headline">¶</a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$ddoc</span><span class="p">.</span><span class="n">AddView</span><span class="p">(</span><span class="s1">&#39;myview&#39;</span><span class="p">,</span> <span class="s1">&#39;function(doc){emit(doc);}&#39;</span><span class="p">,</span> <span class="s1">&#39;_count&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="add-view-object">
<h4>Add view object<a class="headerlink" href="#add-view-object" title="Permalink to this headline">¶</a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$view</span> <span class="p">=</span> <span class="nb">New-Object</span> <span class="n">PSCouchDBView</span> <span class="n">-ArgumentList</span> <span class="s2">&quot;myview&quot;</span>
<span class="nv">$view</span><span class="p">.</span><span class="n">AddMapFunction</span><span class="p">(</span><span class="s2">&quot;function(doc) { emit(doc.name, doc.age); }&quot;</span><span class="p">)</span>
<span class="nv">$view</span><span class="p">.</span><span class="n">AddReduceFunction</span><span class="p">(</span><span class="s2">&quot;_sum&quot;</span><span class="p">)</span>
<span class="nv">$ddoc</span><span class="p">.</span><span class="n">AddView</span><span class="p">(</span><span class="nv">$view</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="work-with-validation">
<h3>Work with validation<a class="headerlink" href="#work-with-validation" title="Permalink to this headline">¶</a></h3>
<p>A design document may contain a function named <code class="docutils literal notranslate"><span class="pre">validate_doc_update</span></code> which can be used to prevent invalid or unauthorized document update requests from being stored.
Use <em>AddValidation</em> for add one. Only one function is allowed at a time.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$ddoc</span><span class="p">.</span><span class="n">SetValidateFunction</span><span class="p">(</span><span class="s1">&#39;function(newDoc, oldDoc, userCtx, secObj) {if (newDoc.type == &quot;post&quot;) {// validation logic for posts}}&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="native-design-document">
<h3>Native design document<a class="headerlink" href="#native-design-document" title="Permalink to this headline">¶</a></h3>
<p>To receive the design document in native format use the <em>ToJson</em> method.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$ddoc</span><span class="p">.</span><span class="n">ToJson</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="create-design-document">
<h3>Create design document<a class="headerlink" href="#create-design-document" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference external" href="ddoc.html#custom-functions">Create design document</a>.</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">New-CouchDBDesignDocument</span> <span class="n">-Database</span> <span class="n">test</span> <span class="n">-Document</span> <span class="s2">&quot;mydesigndoc&quot;</span> <span class="n">-Data</span> <span class="nv">$ddoc</span><span class="p">.</span><span class="n">ToJson</span><span class="p">()</span> <span class="n">-Authorization</span> <span class="s2">&quot;admin:password&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="uses.html" class="btn btn-neutral float-right" title="Real uses" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="cmdlets.html" class="btn btn-neutral float-left" title="Preferences" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Matteo Guadrini.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    

	<style>
		/* Sidebar header (and topbar for mobile) */
		.wy-side-nav-search, .wy-nav-top {
			background: #1B2C3E;
		}
		/* Sidebar */
		.wy-nav-side {
			background: #2A425E;
		}
	</style>



</body>
</html>